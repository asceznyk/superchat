from typing import Optional

from app.db.connection import get_db

async def upsert_user(email:str, name:str, profile_pic:Optional[str]=None):
  first_name, last_name = name.split(' ')
  conn = await get_db()
  async with conn.cur() as cur:
    try:
      cur.execute(
        """
        """,
        (email, )
      )
    except:
      cur.rollback()





